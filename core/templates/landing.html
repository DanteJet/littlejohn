{% extends 'base.html' %}
{% load static %}
{% load get_item %}

{% block content %}
<div class="container py-5">
  <h1 class="landing-title text-center mb-4">–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–ª—É–± —Å—Ç—Ä–µ–ª—å–±—ã –∏–∑ –ª—É–∫–∞ "–ú–∞–ª—ã—à –î–∂–æ–Ω"</h1>
  <p class="lead text-center mb-5">–•–æ—Ç–∏—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–µ–±—è –≤ —Ä–æ–ª–∏ —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–æ–≥–æ –≤–æ–∏–Ω–∞, –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –æ—Ö–æ—Ç–Ω–∏–∫–∞ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Å–≤–æ–∏—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –∏ –ø–æ–ª–µ–∑–Ω—ã–π –Ω–∞–≤—ã–∫? –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ¬´–ú–∞–ª—ã—à –î–∂–æ–Ω¬ª ‚Äî –∫–ª—É–± —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π —Å—Ç—Ä–µ–ª—å–±—ã –∏–∑ –ª—É–∫–∞.</p>
  <div class="row align-items-center">
    <div class="col-md-6 mb-4 mb-md-0">
      <img src="{% static 'img/new_logo.png' %}" class="img-fluid rounded shadow" alt="–û –∫–ª—É–±–µ">
    </div>
    <div class="col-md-6">
      <h3 class="h4">–ß—Ç–æ –≤–∞—Å –∂–¥–µ—Ç</h3>
      <ul class="ps-3">
        <li class="mb-2">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º –ª—É–∫–æ–º ‚Äî —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–∏–∫–∞, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –≤–µ–∫–∞–º–∏.</li>
        <li class="mb-2">–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é ‚Äî –æ—Ç –ø–µ—Ä–≤—ã—Ö –∫–∞–º–µ–Ω–Ω—ã—Ö –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫–æ–≤ –¥–æ –ª–µ–≥–µ–Ω–¥ –æ –†–æ–±–∏–Ω –ì—É–¥–µ. –ú—ã —Ä–∞—Å—Å–∫–∞–∂–µ–º –æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–∏ –ª—É–∫–∞, –µ–≥–æ –≤–∏–¥–∞—Ö –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö.</li>
        <li class="mb-2">–ó–¥–æ—Ä–æ–≤—å–µ –∏ —Å–∏–ª–∞ ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è —É–∫—Ä–µ–ø–ª—è—é—Ç –º—ã—à—Ü—ã —Å–ø–∏–Ω—ã –∏ —Ä—É–∫, —É–ª—É—á—à–∞—é—Ç –æ—Å–∞–Ω–∫—É, —Ä–∞–∑–≤–∏–≤–∞—é—Ç –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –¥–≤–∏–∂–µ–Ω–∏–π.</li>
        <li>–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –µ–¥–∏–Ω—Å—Ç–≤–∞ ‚Äî —Å—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –ª—É–∫–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç: —ç—Ç–æ —Å–ø–æ—Ä—Ç, –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ –Ω–µ–º–Ω–æ–≥–æ –º–∞–≥–∏–∏.</li>
      </ul>
      <h3 class="h4 mt-4">–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –º—ã</h3>
      <p>–í ¬´–ú–∞–ª—ã—à–µ –î–∂–æ–Ω–µ¬ª –º—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ —É—á–∏–º —Å—Ç—Ä–µ–ª—è—Ç—å –≤ —Ü–µ–ª—å ‚Äî –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∑–∞ –∫–∞–∂–¥—ã–º –≤—ã—Å—Ç—Ä–µ–ª–æ–º —Å—Ç–æ–∏—Ç —Ü–µ–ª–∞—è –∏—Å—Ç–æ—Ä–∏—è. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –Ω–æ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –æ—Ç –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è –∫ —Ç—Ä–∞–¥–∏—Ü–∏–∏.</p>
    </div>
  </div>
</div>

<div class="container mt-4">
  <div class="alert alert-success text-center" role="alert">
    üëâ –ü—Ä–∏—Ö–æ–¥–∏—Ç–µ –Ω–∞ –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∏ –ø–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ —Å–∏–ª—É –Ω–∞—Ç—è–Ω—É—Ç–æ–π —Ç–µ—Ç–∏–≤—ã!<br>
    –°—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –ª—É–∫–∞ ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç, –Ω–æ –∏ –ø—É—Ç—å –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—é.
  </div>
</div>

<div class="container my-5">
  <h2 class="text-center mb-4">–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–†–∞–∑–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ</h5>
          <p class="card-text fw-semibold">800—Ä</p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</h5>
          <p class="card-text fw-semibold">1400—Ä</p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–ê–±–æ–Ω–µ–º–µ–Ω—Ç 8 –∑–∞–Ω—è—Ç–∏–π/–º–µ—Å—è—Ü</h5>
          <p class="card-text fw-semibold">5000—Ä</p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã 12/16 –∑–∞–Ω—è—Ç–∏–π –≤ –º–µ—Å—è—Ü</h5>
          <p class="card-text">–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–ü—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞</h5>
          <p class="card-text">30% –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–µ—Å—è—Ü</p>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100 text-center price-card">
        <div class="card-body">
          <h5 class="card-title">–°–µ–º–µ–π–Ω–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ (–¥–æ 4 —á–µ–ª)</h5>
          <p class="card-text fw-semibold">2500—Ä</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="clubCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://via.placeholder.com/800x400?text=–§–æ—Ç–æ+1" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://via.placeholder.com/800x400?text=–§–æ—Ç–æ+2" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="https://via.placeholder.com/800x400?text=–§–æ—Ç–æ+3" class="d-block w-100" alt="...">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#clubCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#clubCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="container my-5">
  <h2 class="text-center mb-4">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</h2>
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h5 class="m-0">{% if month %}{{ month|date:"F Y" }}{% endif %}</h5>
    <div class="d-flex gap-2">
      <a class="btn btn-sm btn-outline-secondary" href="?year={{ prev_year }}&month={{ prev_month }}">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</a>
      <a class="btn btn-sm btn-outline-secondary" href="?year={{ next_year }}&month={{ next_month }}">–°–ª–µ–¥—É—é—â–∏–π ‚Üí</a>
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered align-top">
      <thead class="table-light">
        <tr class="text-center">
          <th>–ü–Ω</th>
          <th>–í—Ç</th>
          <th>–°—Ä</th>
          <th>–ß—Ç</th>
          <th>–ü—Ç</th>
          <th>–°–±</th>
          <th>–í—Å</th>
        </tr>
      </thead>
      <tbody>
        {% for week in weeks %}
          <tr>
            {% for day in week %}
              <td style="width:14.28%; vertical-align: top;" class="{% if day and month and day|date:'m' != month|date:'m' %}text-muted bg-light{% endif %}">
                {% if day %}
                  <div class="d-flex justify-content-between align-items-center mb-2">
                    <span class="small fw-semibold">{{ day|date:"d.m" }}</span>
                  </div>
                  {% with slots=slots_by_day|get_item:day %}
                    {% if slots %}
                      {% for slot in slots %}
                        <div class="border rounded p-2 mb-2 calendar-slot">
                          <div class="small fw-semibold">{{ slot.start|date:"H:i" }}‚Äì{{ slot.end|date:"H:i" }}</div>
                          <div class="small mt-1">–ó–∞–Ω–∏–º–∞—é—â–∏—Ö—Å—è: {{ slot.participants|length }}</div>
                        </div>
                      {% endfor %}
                    {% endif %}
                  {% endwith %}
                {% endif %}
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<footer class="bg-light py-3 mt-5">
  <div class="container text-center small">
    –û–û–û "–ú–∞–ª—ã—à –î–∂–æ–Ω", –û–ì–†–ù 0000000000000, –ò–ù–ù 0000000000, –∞–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1
  </div>
</footer>
{% endblock %}
